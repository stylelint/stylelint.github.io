{"head":{"title":"The stylelint Node API","description":"The stylelint Node API\n\nThe stylelint module includes a lint() function that provides the Node API.\n\nOptions\n\nOptions is an object with the…"},"body":"<h1 id=\"the-stylelint-node-api\"><a class=\"markdownIt-Anchor\" href=\"#the-stylelint-node-api\">#</a> The stylelint Node API</h1>\n<p>The stylelint module includes a <code>lint()</code> function that provides the Node API.</p>\n<pre><code class=\"language-js\">stylelint.lint(options)\n  .then(<span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">resultObject</span>) </span>{ .. });\n</code></pre>\n<h2 id=\"options\"><a class=\"markdownIt-Anchor\" href=\"#options\">#</a> Options</h2>\n<p>Options is an object with the following properties.</p>\n<p>Though both <code>files</code> and <code>css</code> are “optional,” you <em>must</em> have one and <em>cannot</em> have both. All other options are optional._</p>\n<h3 id=\"files\"><a class=\"markdownIt-Anchor\" href=\"#files\">#</a> <code>files</code></h3>\n<p>A file glob, or array of file globs. Ultimately passed to <a href=\"https://github.com/isaacs/node-glob\">node-glob</a> to figure out what files you want to lint.</p>\n<p><code>node_modules</code> and <code>bower_components</code> are always ignored.</p>\n<h3 id=\"code\"><a class=\"markdownIt-Anchor\" href=\"#code\">#</a> <code>code</code></h3>\n<p>A CSS string to be linted.</p>\n<h3 id=\"codefilename\"><a class=\"markdownIt-Anchor\" href=\"#codefilename\">#</a> <code>codeFilename</code></h3>\n<p>If using <code>code</code> to pass a source string directly, you can use <code>codeFilename</code> to associate that code with a particular filename.</p>\n<p>This can be useful, for example, when making a text editor plugin that passes in code directly but needs to still use the configuration’s <code>ignoreFiles</code> functionality to possibly ignore that code.</p>\n<h3 id=\"formatter\"><a class=\"markdownIt-Anchor\" href=\"#formatter\">#</a> <code>formatter</code></h3>\n<p><code>&quot;json&quot;</code>, <code>&quot;string&quot;</code>, or a function. Default is <code>&quot;json&quot;</code>.</p>\n<p>Describes the formatter that you would like to use to format your results. <code>&quot;json&quot;</code> outputs JSON; <code>&quot;string&quot;</code> outputs a human-legible error report.</p>\n<p>If you pass a function, it must fit the signature described in the <a href=\"/developer-guide/formatters\">Developer Guide</a>.</p>\n<h3 id=\"config\"><a class=\"markdownIt-Anchor\" href=\"#config\">#</a> <code>config</code></h3>\n<p>A <a href=\"/user-guide/configuration\">stylelint configuration object</a>.</p>\n<p>If no <code>config</code> is passed, stylelint will look for a <code>.stylelintrc</code> configuration file.</p>\n<h3 id=\"configfile\"><a class=\"markdownIt-Anchor\" href=\"#configfile\">#</a> <code>configFile</code></h3>\n<p>The path to a JSON, YAML, or JS file  that contains your <a href=\"/user-guide/configuration\">stylelint configuration object</a>.</p>\n<p>It should be either absolute or relative to the directory that your process is running from (<code>process.cwd()</code>). We’d recommend absolute.</p>\n<h3 id=\"configbasedir\"><a class=\"markdownIt-Anchor\" href=\"#configbasedir\">#</a> <code>configBasedir</code></h3>\n<p>An absolute path to the directory that relative paths defining <code>extends</code> and <code>plugins</code> are <em>relative to</em>.</p>\n<p>If the <code>config</code> object passed uses relative paths for <code>extends</code> or <code>plugins</code>, you are going to have to pass a <code>configBasedir</code>. If not, you do not need this.</p>\n<h3 id=\"configoverrides\"><a class=\"markdownIt-Anchor\" href=\"#configoverrides\">#</a> <code>configOverrides</code></h3>\n<p>A partial stylelint configuration object whose properties will override the existing config object, whether that config was loaded via the <code>config</code> option or a <code>.stylelintrc</code> file.</p>\n<p>The difference between the <code>configOverrides</code> and <code>config</code> options is this: If any <code>config</code> object is passed, stylelint does not bother looking for a <code>.stylelintrc</code> file and instead just uses whatever <code>config</code> object you’ve passed; but if you want to <em>both</em> load a <code>.stylelintrc</code> file <em>and</em> override specific parts of it, <code>configOverrides</code> does just that.</p>\n<h3 id=\"syntax\"><a class=\"markdownIt-Anchor\" href=\"#syntax\">#</a> <code>syntax</code></h3>\n<p>Options: <code>&quot;scss&quot;</code>.</p>\n<p>Specify a non-standard syntax that should be used to parse source stylesheets.</p>\n<h2 id=\"the-returned-promise\"><a class=\"markdownIt-Anchor\" href=\"#the-returned-promise\">#</a> The returned promise</h2>\n<p><code>stylelint.lint()</code> returns a Promise that resolves with an object containing the following properties:</p>\n<h3 id=\"output\"><a class=\"markdownIt-Anchor\" href=\"#output\">#</a> <code>output</code></h3>\n<p>A string displaying the formatted warnings (using the default formatter or whichever you passed).</p>\n<h3 id=\"errored\"><a class=\"markdownIt-Anchor\" href=\"#errored\">#</a> <code>errored</code></h3>\n<p>Boolean. If <code>true</code>, at least one rule with an “error”-level severity registered a warning.</p>\n<h3 id=\"results\"><a class=\"markdownIt-Anchor\" href=\"#results\">#</a> <code>results</code></h3>\n<p>An array containing all the stylelint result objects (the objects that formatters consume).</p>\n<h3 id=\"postcssresults\"><a class=\"markdownIt-Anchor\" href=\"#postcssresults\">#</a> <code>postcssResults</code></h3>\n<p>An array containing all the <a href=\"https://github.com/postcss/postcss/blob/master/api.md#lazyresult-class\">PostCSS LazyResults</a> that were accumulated during processing.</p>\n<h2 id=\"usage-examples\"><a class=\"markdownIt-Anchor\" href=\"#usage-examples\">#</a> Usage examples</h2>\n<p>If <code>myConfig</code> contains no relative paths for <code>extends</code> or <code>plugins</code>, I do not have to use <code>configBasedir</code>:</p>\n<pre><code class=\"language-js\">stylelint.lint({\n  files: <span class=\"hljs-string\">\"all/my/stylesheets/*.css\"</span>,\n  config: myConfig\n})\n  .then(<span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">data</span>) </span>{\n    <span class=\"hljs-comment\">// do things with data.output, data.errored,</span>\n    <span class=\"hljs-comment\">// and data.results</span>\n  })\n  .catch(<span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">err</span>) </span>{\n    <span class=\"hljs-comment\">// do things with err e.g.</span>\n    <span class=\"hljs-built_in\">console</span>.error(err.stack);\n  });;\n</code></pre>\n<p>If <code>myConfig</code> <em>does</em> contain relative paths for <code>extends</code> or <code>plugins</code>, I <em>do</em> have to use <code>configBasedir</code>:</p>\n<pre><code class=\"language-js\">stylelint.lint({\n  files: <span class=\"hljs-string\">\"all/my/stylesheets/*.css\"</span>,\n  config: myConfig,\n  configBasedir: path.join(__dirname, <span class=\"hljs-string\">\"configs\"</span>)\n}).then(<span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>) </span>{ .. });\n</code></pre>\n<p>Maybe I want to use a CSS string instead of a file glob, and I want to use the string formatter instead of the default JSON:</p>\n<pre><code class=\"language-js\">stylelint.lint({\n  code: <span class=\"hljs-string\">\"a { color: pink; }\"</span>,\n  config: myConfig,\n  formatter: <span class=\"hljs-string\">\"string\"</span>\n}).then(<span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>) </span>{ .. });\n</code></pre>\n<p>Maybe I want to use my own custom formatter function and parse <code>.scss</code> source files:</p>\n<pre><code class=\"language-js\">stylelint.lint({\n  files: <span class=\"hljs-string\">\"all/my/stylesheets/*.scss\"</span>,\n  config: myConfig,\n  syntax: <span class=\"hljs-string\">\"scss\"</span>,\n  formatter: <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">stylelintResults</span>) </span>{ .. }\n}).then(<span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>) </span>{ .. });\n</code></pre>\n","rawBody":"\n# The stylelint Node API\n\nThe stylelint module includes a `lint()` function that provides the Node API.\n\n```js\nstylelint.lint(options)\n  .then(function(resultObject) { .. });\n```\n\n## Options\n\nOptions is an object with the following properties.\n\nThough both `files` and `css` are \"optional,\" you *must* have one and *cannot* have both. All other options are optional._\n\n### `files`\n\nA file glob, or array of file globs. Ultimately passed to [node-glob](https://github.com/isaacs/node-glob) to figure out what files you want to lint.\n\n`node_modules` and `bower_components` are always ignored.\n\n### `code`\n\nA CSS string to be linted.\n\n### `codeFilename`\n\nIf using `code` to pass a source string directly, you can use `codeFilename` to associate that code with a particular filename.\n\nThis can be useful, for example, when making a text editor plugin that passes in code directly but needs to still use the configuration's `ignoreFiles` functionality to possibly ignore that code.\n\n### `formatter`\n\n`\"json\"`, `\"string\"`, or a function. Default is `\"json\"`.\n\nDescribes the formatter that you would like to use to format your results. `\"json\"` outputs JSON; `\"string\"` outputs a human-legible error report.\n\nIf you pass a function, it must fit the signature described in the [Developer Guide](/developer-guide/formatters).\n\n### `config`\n\nA [stylelint configuration object](/user-guide/configuration).\n\nIf no `config` is passed, stylelint will look for a `.stylelintrc` configuration file.\n\n### `configFile`\n\nThe path to a JSON, YAML, or JS file  that contains your [stylelint configuration object](/user-guide/configuration).\n\nIt should be either absolute or relative to the directory that your process is running from (`process.cwd()`). We'd recommend absolute.\n\n### `configBasedir`\n\nAn absolute path to the directory that relative paths defining `extends` and `plugins` are *relative to*.\n\nIf the `config` object passed uses relative paths for `extends` or `plugins`, you are going to have to pass a `configBasedir`. If not, you do not need this.\n\n### `configOverrides`\n\nA partial stylelint configuration object whose properties will override the existing config object, whether that config was loaded via the `config` option or a `.stylelintrc` file.\n\nThe difference between the `configOverrides` and `config` options is this: If any `config` object is passed, stylelint does not bother looking for a `.stylelintrc` file and instead just uses whatever `config` object you've passed; but if you want to *both* load a `.stylelintrc` file *and* override specific parts of it, `configOverrides` does just that.\n\n### `syntax`\n\nOptions: `\"scss\"`.\n\nSpecify a non-standard syntax that should be used to parse source stylesheets.\n\n## The returned promise\n\n`stylelint.lint()` returns a Promise that resolves with an object containing the following properties:\n\n### `output`\n\nA string displaying the formatted warnings (using the default formatter or whichever you passed).\n\n### `errored`\n\nBoolean. If `true`, at least one rule with an \"error\"-level severity registered a warning.\n\n### `results`\n\nAn array containing all the stylelint result objects (the objects that formatters consume).\n\n### `postcssResults`\n\nAn array containing all the [PostCSS LazyResults](https://github.com/postcss/postcss/blob/master/api.md#lazyresult-class) that were accumulated during processing.\n\n## Usage examples\n\nIf `myConfig` contains no relative paths for `extends` or `plugins`, I do not have to use `configBasedir`:\n\n```js\nstylelint.lint({\n  files: \"all/my/stylesheets/*.css\",\n  config: myConfig\n})\n  .then(function(data) {\n    // do things with data.output, data.errored,\n    // and data.results\n  })\n  .catch(function(err) {\n    // do things with err e.g.\n    console.error(err.stack);\n  });;\n```\n\nIf `myConfig` *does* contain relative paths for `extends` or `plugins`, I *do* have to use `configBasedir`:\n\n```js\nstylelint.lint({\n  files: \"all/my/stylesheets/*.css\",\n  config: myConfig,\n  configBasedir: path.join(__dirname, \"configs\")\n}).then(function() { .. });\n```\n\nMaybe I want to use a CSS string instead of a file glob, and I want to use the string formatter instead of the default JSON:\n\n```js\nstylelint.lint({\n  code: \"a { color: pink; }\",\n  config: myConfig,\n  formatter: \"string\"\n}).then(function() { .. });\n```\n\nMaybe I want to use my own custom formatter function and parse `.scss` source files:\n\n```js\nstylelint.lint({\n  files: \"all/my/stylesheets/*.scss\",\n  config: myConfig,\n  syntax: \"scss\",\n  formatter: function(stylelintResults) { .. }\n}).then(function() { .. });\n","raw":"---\ntitle: The stylelint Node API\n---\n\n# The stylelint Node API\n\nThe stylelint module includes a `lint()` function that provides the Node API.\n\n```js\nstylelint.lint(options)\n  .then(function(resultObject) { .. });\n```\n\n## Options\n\nOptions is an object with the following properties.\n\nThough both `files` and `css` are \"optional,\" you *must* have one and *cannot* have both. All other options are optional._\n\n### `files`\n\nA file glob, or array of file globs. Ultimately passed to [node-glob](https://github.com/isaacs/node-glob) to figure out what files you want to lint.\n\n`node_modules` and `bower_components` are always ignored.\n\n### `code`\n\nA CSS string to be linted.\n\n### `codeFilename`\n\nIf using `code` to pass a source string directly, you can use `codeFilename` to associate that code with a particular filename.\n\nThis can be useful, for example, when making a text editor plugin that passes in code directly but needs to still use the configuration's `ignoreFiles` functionality to possibly ignore that code.\n\n### `formatter`\n\n`\"json\"`, `\"string\"`, or a function. Default is `\"json\"`.\n\nDescribes the formatter that you would like to use to format your results. `\"json\"` outputs JSON; `\"string\"` outputs a human-legible error report.\n\nIf you pass a function, it must fit the signature described in the [Developer Guide](/developer-guide/formatters).\n\n### `config`\n\nA [stylelint configuration object](/user-guide/configuration).\n\nIf no `config` is passed, stylelint will look for a `.stylelintrc` configuration file.\n\n### `configFile`\n\nThe path to a JSON, YAML, or JS file  that contains your [stylelint configuration object](/user-guide/configuration).\n\nIt should be either absolute or relative to the directory that your process is running from (`process.cwd()`). We'd recommend absolute.\n\n### `configBasedir`\n\nAn absolute path to the directory that relative paths defining `extends` and `plugins` are *relative to*.\n\nIf the `config` object passed uses relative paths for `extends` or `plugins`, you are going to have to pass a `configBasedir`. If not, you do not need this.\n\n### `configOverrides`\n\nA partial stylelint configuration object whose properties will override the existing config object, whether that config was loaded via the `config` option or a `.stylelintrc` file.\n\nThe difference between the `configOverrides` and `config` options is this: If any `config` object is passed, stylelint does not bother looking for a `.stylelintrc` file and instead just uses whatever `config` object you've passed; but if you want to *both* load a `.stylelintrc` file *and* override specific parts of it, `configOverrides` does just that.\n\n### `syntax`\n\nOptions: `\"scss\"`.\n\nSpecify a non-standard syntax that should be used to parse source stylesheets.\n\n## The returned promise\n\n`stylelint.lint()` returns a Promise that resolves with an object containing the following properties:\n\n### `output`\n\nA string displaying the formatted warnings (using the default formatter or whichever you passed).\n\n### `errored`\n\nBoolean. If `true`, at least one rule with an \"error\"-level severity registered a warning.\n\n### `results`\n\nAn array containing all the stylelint result objects (the objects that formatters consume).\n\n### `postcssResults`\n\nAn array containing all the [PostCSS LazyResults](https://github.com/postcss/postcss/blob/master/api.md#lazyresult-class) that were accumulated during processing.\n\n## Usage examples\n\nIf `myConfig` contains no relative paths for `extends` or `plugins`, I do not have to use `configBasedir`:\n\n```js\nstylelint.lint({\n  files: \"all/my/stylesheets/*.css\",\n  config: myConfig\n})\n  .then(function(data) {\n    // do things with data.output, data.errored,\n    // and data.results\n  })\n  .catch(function(err) {\n    // do things with err e.g.\n    console.error(err.stack);\n  });;\n```\n\nIf `myConfig` *does* contain relative paths for `extends` or `plugins`, I *do* have to use `configBasedir`:\n\n```js\nstylelint.lint({\n  files: \"all/my/stylesheets/*.css\",\n  config: myConfig,\n  configBasedir: path.join(__dirname, \"configs\")\n}).then(function() { .. });\n```\n\nMaybe I want to use a CSS string instead of a file glob, and I want to use the string formatter instead of the default JSON:\n\n```js\nstylelint.lint({\n  code: \"a { color: pink; }\",\n  config: myConfig,\n  formatter: \"string\"\n}).then(function() { .. });\n```\n\nMaybe I want to use my own custom formatter function and parse `.scss` source files:\n\n```js\nstylelint.lint({\n  files: \"all/my/stylesheets/*.scss\",\n  config: myConfig,\n  syntax: \"scss\",\n  formatter: function(stylelintResults) { .. }\n}).then(function() { .. });\n","__filename":"user-guide/node-api.md","__url":"/user-guide/node-api/","__resourceUrl":"/user-guide/node-api/index.html","__dataUrl":"/user-guide/node-api/index.html.6f183e2917e327af6c647f9e0178f378.json"}