{"head":{"title":"The stylelint PostCSS plugin","description":"The stylelint PostCSS plugin As with any other PostCSS plugin, you can use stylelint's PostCSS plugin either with a PostCSS runner -- suchâ€¦"},"body":"<h1 id=\"the-stylelint-postcss-plugin\"><a href=\"#the-stylelint-postcss-plugin\" class=\"phenomic-HeadingAnchor\">#</a>The stylelint PostCSS plugin</h1>\n<p>As with any other <a href=\"https://github.com/postcss/postcss#plugins\">PostCSS plugin</a>, you can use stylelint&#x27;s PostCSS plugin either with a PostCSS runner -- such as <a href=\"https://github.com/nDmitry/grunt-postcss\"><code>grunt-postcss</code></a> -- or with the PostCSS JS API directly.</p>\n<p>If a dedicated stylelint task runner plugin <a href=\"/user-guide/complementary-tools/\">is available</a> (e.g. <code>gulp-stylelint</code>) we recommend you use that rather than this plugin.</p>\n<h2 id=\"options\"><a href=\"#options\" class=\"phenomic-HeadingAnchor\">#</a>Options</h2>\n<p>The plugin accepts an options object as argument, with the following properties:</p>\n<h3 id=\"config\"><a href=\"#config\" class=\"phenomic-HeadingAnchor\">#</a><code>config</code></h3>\n<p>A <a href=\"/user-guide/configuration/\">stylelint configuration object</a>.</p>\n<p>If no <code>config</code> or <code>configFile</code> is passed, stylelint will look for a <code>.stylelintrc</code> configuration file.</p>\n<h3 id=\"configfile\"><a href=\"#configfile\" class=\"phenomic-HeadingAnchor\">#</a><code>configFile</code></h3>\n<p>The path to a JSON, YAML, or JS file that contains your <a href=\"/user-guide/configuration/\">stylelint configuration object</a>.</p>\n<p>It should be either absolute or relative to the directory that your process is running from (<code>process.cwd()</code>). We&#x27;d recommend absolute.</p>\n<h3 id=\"configbasedir\"><a href=\"#configbasedir\" class=\"phenomic-HeadingAnchor\">#</a><code>configBasedir</code></h3>\n<p>An absolute path to the directory that relative paths defining <code>extends</code> and <code>plugins</code> are <em>relative to</em>.</p>\n<p>This is only necessary if you passed an object directly through the <code>config</code> property. If you used\n<code>configFile</code>, this option is not necessary.</p>\n<p>If the <code>config</code> object passed uses relative paths for <code>extends</code> or <code>plugins</code>, you are going to have to pass a <code>configBasedir</code>. If not, you do not need this.</p>\n<h3 id=\"configoverrides\"><a href=\"#configoverrides\" class=\"phenomic-HeadingAnchor\">#</a><code>configOverrides</code></h3>\n<p>A partial stylelint configuration object whose properties will override the existing config object, whether that config was loaded via the <code>config</code> option or a <code>.stylelintrc</code> file.</p>\n<p>The difference between the <code>configOverrides</code> and <code>config</code> options is this: If any <code>config</code> object is passed, stylelint does not bother looking for a <code>.stylelintrc</code> file and instead just uses whatever <code>config</code> object you&#x27;ve passed; but if you want to <em>both</em> load a <code>.stylelintrc</code> file <em>and</em> override specific parts of it, <code>configOverrides</code> does just that.</p>\n<h2 id=\"usage-examples\"><a href=\"#usage-examples\" class=\"phenomic-HeadingAnchor\">#</a>Usage examples</h2>\n<p>We recommend you lint your CSS before applying any transformations. You can do this by either:</p>\n<ul>\n<li>creating a separate lint task that is independent of your build one.</li>\n<li>using the <a href=\"https://github.com/postcss/postcss-import#plugins\"><code>plugins</code> option</a> of <a href=\"https://github.com/postcss/postcss-import\"><code>postcss-import</code></a> or <a href=\"https://github.com/TrySound/postcss-easy-import\"><code>postcss-easy-import</code></a> to lint the your files before any transformations.</li>\n<li>placing stylelint at the beginning of your plugin pipeline.</li>\n</ul>\n<p>You&#x27;ll also need to use a reporter. <em>The stylelint plugin registers warnings via PostCSS</em>. Therefore, you&#x27;ll want to use it with a PostCSS runner that prints warnings (e.g. <a href=\"https://github.com/nDmitry/grunt-postcss\"><code>grunt-postcss</code></a>) or another PostCSS plugin whose purpose is to format and print warnings (e.g. <a href=\"https://github.com/postcss/postcss-reporter\"><code>postcss-reporter</code></a>).</p>\n<h3 id=\"example-a\"><a href=\"#example-a\" class=\"phenomic-HeadingAnchor\">#</a>Example A</h3>\n<p>Using the plugin with <a href=\"https://github.com/nDmitry/grunt-postcss\"><code>grunt-postcss</code></a>, and as a separate lint task:</p>\n<pre><code class=\"hljs language-js\">grunt.initConfig({\n  postcss: {\n    <span class=\"hljs-comment\">// build task (this example uses postcss-import and autoprefixer)</span>\n    build: {\n      options: {\n        map: <span class=\"hljs-literal\">true</span>,\n        processors: [\n          <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">\"postcss-import\"</span>),\n          <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">\"autoprefixer\"</span>)({browsers: <span class=\"hljs-string\">\"last 2 versions\"</span>})\n        ]\n      },\n      <span class=\"hljs-comment\">// start at the entry file</span>\n      dist: {\n        src: <span class=\"hljs-string\">'css/entry.css'</span>\n      }\n    },\n    <span class=\"hljs-comment\">// separate lint task</span>\n    lint: {\n      options: {\n        processors: [\n          <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">\"stylelint\"</span>)({ <span class=\"hljs-comment\">/* your options */</span> }),\n          <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">\"postcss-reporter\"</span>)({ clearMessages: <span class=\"hljs-literal\">true</span> })\n        ]\n      },\n      <span class=\"hljs-comment\">// lint all the .css files in the css directory</span>\n      dist: {\n        src: <span class=\"hljs-string\">'css/**/*.css'</span>\n      }\n    }\n  }\n})</code></pre>\n<h3 id=\"example-b\"><a href=\"#example-b\" class=\"phenomic-HeadingAnchor\">#</a>Example B</h3>\n<p>Using the plugin with <a href=\"https://github.com/nDmitry/grunt-postcss\"><code>grunt-postcss</code></a>, but within <a href=\"https://github.com/postcss/postcss-import\"><code>postcss-import</code></a> (using the its <code>plugins</code> option) as part of the build task:</p>\n<pre><code class=\"hljs language-js\">grunt.initConfig({\n  postcss: {\n    <span class=\"hljs-comment\">// this example uses postcss-cssnext</span>\n    options: {\n      map: <span class=\"hljs-literal\">true</span>,\n      processors: [\n        <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">\"postcss-import\"</span>)({\n          plugins: [\n            <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">\"stylelint\"</span>)({ <span class=\"hljs-comment\">/* your options */</span> })\n          ]\n        }),\n        <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">\"postcss-cssnext\"</span>)\n        <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">\"postcss-reporter\"</span>)({ clearMessages: <span class=\"hljs-literal\">true</span> })\n      ]\n    },\n    <span class=\"hljs-comment\">// start at the entry file</span>\n    dist: {\n      src: <span class=\"hljs-string\">'css/entry.css'</span>\n    }\n  }\n})</code></pre>\n<h3 id=\"example-c\"><a href=\"#example-c\" class=\"phenomic-HeadingAnchor\">#</a>Example C</h3>\n<p>Using the plugin to lint Less using the PostCSS JS API and <a href=\"https://github.com/webschik/postcss-less\"><code>postcss-less</code></a>.</p>\n<p><em>Note: the stylelint PostCSS plugin, unlike the stylelint CLI and node API, doesn&#x27;t have a <code>syntax</code> option. Instead, the syntax must be set within the <a href=\"https://github.com/postcss/postcss#options\">PostCSS options</a> as there can only be one parser/syntax in a pipeline.</em></p>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-keyword\">var</span> fs = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">\"fs\"</span>)\n<span class=\"hljs-keyword\">var</span> less = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">\"postcss-less\"</span>)\n<span class=\"hljs-keyword\">var</span> postcss = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">\"postcss\"</span>)\n<span class=\"hljs-keyword\">var</span> reporter = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">\"postcss-reporter\"</span>)\n<span class=\"hljs-keyword\">var</span> stylelint = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">\"stylelint\"</span>)\n\n<span class=\"hljs-comment\">// CSS to be processed</span>\n<span class=\"hljs-keyword\">var</span> css = fs.readFileSync(<span class=\"hljs-string\">\"input.css\"</span>, <span class=\"hljs-string\">\"utf8\"</span>)\n\npostcss([\n  stylelint({ <span class=\"hljs-comment\">/* your options */</span> }),\n  reporter({ clearMessages: <span class=\"hljs-literal\">true</span> }),\n])\n  .process(css, {\n    <span class=\"hljs-keyword\">from</span>: <span class=\"hljs-string\">\"input.css\"</span>,\n    syntax: less\n  })\n  .then()\n  .catch(err =&gt; <span class=\"hljs-built_in\">console</span>.error(err.stack))</code></pre>\n<p>The same pattern can be used to lint SCSS or <a href=\"https://github.com/postcss/sugarss\">SugarSS</a> syntax.</p>\n","rawBody":"\n# The stylelint PostCSS plugin\n\nAs with any other [PostCSS plugin](https://github.com/postcss/postcss#plugins), you can use stylelint's PostCSS plugin either with a PostCSS runner -- such as [`grunt-postcss`](https://github.com/nDmitry/grunt-postcss) -- or with the PostCSS JS API directly.\n\nIf a dedicated stylelint task runner plugin [is available](/user-guide/complementary-tools/) (e.g. `gulp-stylelint`) we recommend you use that rather than this plugin.\n\n## Options\n\nThe plugin accepts an options object as argument, with the following properties:\n\n### `config`\n\nA [stylelint configuration object](/user-guide/configuration/).\n\nIf no `config` or `configFile` is passed, stylelint will look for a `.stylelintrc` configuration file.\n\n### `configFile`\n\nThe path to a JSON, YAML, or JS file that contains your [stylelint configuration object](/user-guide/configuration/).\n\nIt should be either absolute or relative to the directory that your process is running from (`process.cwd()`). We'd recommend absolute.\n\n### `configBasedir`\n\nAn absolute path to the directory that relative paths defining `extends` and `plugins` are *relative to*.\n\nThis is only necessary if you passed an object directly through the `config` property. If you used\n`configFile`, this option is not necessary.\n\nIf the `config` object passed uses relative paths for `extends` or `plugins`, you are going to have to pass a `configBasedir`. If not, you do not need this.\n\n### `configOverrides`\n\nA partial stylelint configuration object whose properties will override the existing config object, whether that config was loaded via the `config` option or a `.stylelintrc` file.\n\nThe difference between the `configOverrides` and `config` options is this: If any `config` object is passed, stylelint does not bother looking for a `.stylelintrc` file and instead just uses whatever `config` object you've passed; but if you want to *both* load a `.stylelintrc` file *and* override specific parts of it, `configOverrides` does just that.\n\n## Usage examples\n\nWe recommend you lint your CSS before applying any transformations. You can do this by either:\n\n- creating a separate lint task that is independent of your build one.\n- using the [`plugins` option](https://github.com/postcss/postcss-import#plugins) of [`postcss-import`](https://github.com/postcss/postcss-import) or [`postcss-easy-import`](https://github.com/TrySound/postcss-easy-import) to lint the your files before any transformations.\n- placing stylelint at the beginning of your plugin pipeline.\n\nYou'll also need to use a reporter. *The stylelint plugin registers warnings via PostCSS*. Therefore, you'll want to use it with a PostCSS runner that prints warnings (e.g. [`grunt-postcss`](https://github.com/nDmitry/grunt-postcss)) or another PostCSS plugin whose purpose is to format and print warnings (e.g. [`postcss-reporter`](https://github.com/postcss/postcss-reporter)).\n\n### Example A\n\nUsing the plugin with [`grunt-postcss`](https://github.com/nDmitry/grunt-postcss), and as a separate lint task:\n\n```js\ngrunt.initConfig({\n  postcss: {\n    // build task (this example uses postcss-import and autoprefixer)\n    build: {\n      options: {\n        map: true,\n        processors: [\n          require(\"postcss-import\"),\n          require(\"autoprefixer\")({browsers: \"last 2 versions\"})\n        ]\n      },\n      // start at the entry file\n      dist: {\n        src: 'css/entry.css'\n      }\n    },\n    // separate lint task\n    lint: {\n      options: {\n        processors: [\n          require(\"stylelint\")({ /* your options */ }),\n          require(\"postcss-reporter\")({ clearMessages: true })\n        ]\n      },\n      // lint all the .css files in the css directory\n      dist: {\n        src: 'css/**/*.css'\n      }\n    }\n  }\n})\n```\n\n### Example B\n\nUsing the plugin with [`grunt-postcss`](https://github.com/nDmitry/grunt-postcss), but within [`postcss-import`](https://github.com/postcss/postcss-import) (using the its `plugins` option) as part of the build task:\n\n```js\ngrunt.initConfig({\n  postcss: {\n    // this example uses postcss-cssnext\n    options: {\n      map: true,\n      processors: [\n        require(\"postcss-import\")({\n          plugins: [\n            require(\"stylelint\")({ /* your options */ })\n          ]\n        }),\n        require(\"postcss-cssnext\")\n        require(\"postcss-reporter\")({ clearMessages: true })\n      ]\n    },\n    // start at the entry file\n    dist: {\n      src: 'css/entry.css'\n    }\n  }\n})\n```\n\n### Example C\n\nUsing the plugin to lint Less using the PostCSS JS API and [`postcss-less`](https://github.com/webschik/postcss-less).\n\n*Note: the stylelint PostCSS plugin, unlike the stylelint CLI and node API, doesn't have a `syntax` option. Instead, the syntax must be set within the [PostCSS options](https://github.com/postcss/postcss#options) as there can only be one parser/syntax in a pipeline.*\n\n```js\nvar fs = require(\"fs\")\nvar less = require(\"postcss-less\")\nvar postcss = require(\"postcss\")\nvar reporter = require(\"postcss-reporter\")\nvar stylelint = require(\"stylelint\")\n\n// CSS to be processed\nvar css = fs.readFileSync(\"input.css\", \"utf8\")\n\npostcss([\n  stylelint({ /* your options */ }),\n  reporter({ clearMessages: true }),\n])\n  .process(css, {\n    from: \"input.css\",\n    syntax: less\n  })\n  .then()\n  .catch(err => console.error(err.stack))\n```\n\nThe same pattern can be used to lint SCSS or [SugarSS](https://github.com/postcss/sugarss) syntax.\n","raw":"---\ntitle: The stylelint PostCSS plugin\n---\n\n# The stylelint PostCSS plugin\n\nAs with any other [PostCSS plugin](https://github.com/postcss/postcss#plugins), you can use stylelint's PostCSS plugin either with a PostCSS runner -- such as [`grunt-postcss`](https://github.com/nDmitry/grunt-postcss) -- or with the PostCSS JS API directly.\n\nIf a dedicated stylelint task runner plugin [is available](/user-guide/complementary-tools/) (e.g. `gulp-stylelint`) we recommend you use that rather than this plugin.\n\n## Options\n\nThe plugin accepts an options object as argument, with the following properties:\n\n### `config`\n\nA [stylelint configuration object](/user-guide/configuration/).\n\nIf no `config` or `configFile` is passed, stylelint will look for a `.stylelintrc` configuration file.\n\n### `configFile`\n\nThe path to a JSON, YAML, or JS file that contains your [stylelint configuration object](/user-guide/configuration/).\n\nIt should be either absolute or relative to the directory that your process is running from (`process.cwd()`). We'd recommend absolute.\n\n### `configBasedir`\n\nAn absolute path to the directory that relative paths defining `extends` and `plugins` are *relative to*.\n\nThis is only necessary if you passed an object directly through the `config` property. If you used\n`configFile`, this option is not necessary.\n\nIf the `config` object passed uses relative paths for `extends` or `plugins`, you are going to have to pass a `configBasedir`. If not, you do not need this.\n\n### `configOverrides`\n\nA partial stylelint configuration object whose properties will override the existing config object, whether that config was loaded via the `config` option or a `.stylelintrc` file.\n\nThe difference between the `configOverrides` and `config` options is this: If any `config` object is passed, stylelint does not bother looking for a `.stylelintrc` file and instead just uses whatever `config` object you've passed; but if you want to *both* load a `.stylelintrc` file *and* override specific parts of it, `configOverrides` does just that.\n\n## Usage examples\n\nWe recommend you lint your CSS before applying any transformations. You can do this by either:\n\n- creating a separate lint task that is independent of your build one.\n- using the [`plugins` option](https://github.com/postcss/postcss-import#plugins) of [`postcss-import`](https://github.com/postcss/postcss-import) or [`postcss-easy-import`](https://github.com/TrySound/postcss-easy-import) to lint the your files before any transformations.\n- placing stylelint at the beginning of your plugin pipeline.\n\nYou'll also need to use a reporter. *The stylelint plugin registers warnings via PostCSS*. Therefore, you'll want to use it with a PostCSS runner that prints warnings (e.g. [`grunt-postcss`](https://github.com/nDmitry/grunt-postcss)) or another PostCSS plugin whose purpose is to format and print warnings (e.g. [`postcss-reporter`](https://github.com/postcss/postcss-reporter)).\n\n### Example A\n\nUsing the plugin with [`grunt-postcss`](https://github.com/nDmitry/grunt-postcss), and as a separate lint task:\n\n```js\ngrunt.initConfig({\n  postcss: {\n    // build task (this example uses postcss-import and autoprefixer)\n    build: {\n      options: {\n        map: true,\n        processors: [\n          require(\"postcss-import\"),\n          require(\"autoprefixer\")({browsers: \"last 2 versions\"})\n        ]\n      },\n      // start at the entry file\n      dist: {\n        src: 'css/entry.css'\n      }\n    },\n    // separate lint task\n    lint: {\n      options: {\n        processors: [\n          require(\"stylelint\")({ /* your options */ }),\n          require(\"postcss-reporter\")({ clearMessages: true })\n        ]\n      },\n      // lint all the .css files in the css directory\n      dist: {\n        src: 'css/**/*.css'\n      }\n    }\n  }\n})\n```\n\n### Example B\n\nUsing the plugin with [`grunt-postcss`](https://github.com/nDmitry/grunt-postcss), but within [`postcss-import`](https://github.com/postcss/postcss-import) (using the its `plugins` option) as part of the build task:\n\n```js\ngrunt.initConfig({\n  postcss: {\n    // this example uses postcss-cssnext\n    options: {\n      map: true,\n      processors: [\n        require(\"postcss-import\")({\n          plugins: [\n            require(\"stylelint\")({ /* your options */ })\n          ]\n        }),\n        require(\"postcss-cssnext\")\n        require(\"postcss-reporter\")({ clearMessages: true })\n      ]\n    },\n    // start at the entry file\n    dist: {\n      src: 'css/entry.css'\n    }\n  }\n})\n```\n\n### Example C\n\nUsing the plugin to lint Less using the PostCSS JS API and [`postcss-less`](https://github.com/webschik/postcss-less).\n\n*Note: the stylelint PostCSS plugin, unlike the stylelint CLI and node API, doesn't have a `syntax` option. Instead, the syntax must be set within the [PostCSS options](https://github.com/postcss/postcss#options) as there can only be one parser/syntax in a pipeline.*\n\n```js\nvar fs = require(\"fs\")\nvar less = require(\"postcss-less\")\nvar postcss = require(\"postcss\")\nvar reporter = require(\"postcss-reporter\")\nvar stylelint = require(\"stylelint\")\n\n// CSS to be processed\nvar css = fs.readFileSync(\"input.css\", \"utf8\")\n\npostcss([\n  stylelint({ /* your options */ }),\n  reporter({ clearMessages: true }),\n])\n  .process(css, {\n    from: \"input.css\",\n    syntax: less\n  })\n  .then()\n  .catch(err => console.error(err.stack))\n```\n\nThe same pattern can be used to lint SCSS or [SugarSS](https://github.com/postcss/sugarss) syntax.\n","__filename":"user-guide/postcss-plugin.md","__url":"/user-guide/postcss-plugin/","__resourceUrl":"/user-guide/postcss-plugin/index.html","__dataUrl":"/user-guide/postcss-plugin/index.html.0cac31c81eca2a30c3e98ae251086d7d.json"}