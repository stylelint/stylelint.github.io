{"head":{"description":"The stylelint PostCSS plugin As with any other PostCSS plugin, you can use stylelint's PostCSS plugin either with a PostCSS runner or withâ€¦","title":"The stylelint PostCSS plugin"},"body":"<h1 id=\"the-stylelint-postcss-plugin\"><a href=\"#the-stylelint-postcss-plugin\" class=\"phenomic-HeadingAnchor\">#</a>The stylelint PostCSS plugin</h1>\n<p>As with any other <a href=\"https://github.com/postcss/postcss#plugins\">PostCSS plugin</a>, you can use stylelint's PostCSS plugin either with a PostCSS runner or with the PostCSS JS API directly.</p>\n<p><em>However, if a dedicated stylelint task runner plugin <a href=\"../complementary-tools/\">is available</a> (e.g. <a href=\"https://github.com/olegskl/gulp-stylelint\">gulp-stylelint</a> or <a href=\"https://github.com/wikimedia/grunt-stylelint\">grunt-stylelint</a>) we recommend you use that rather than this plugin, as they provide better reporting.</em></p>\n<h2 id=\"installation\"><a href=\"#installation\" class=\"phenomic-HeadingAnchor\">#</a>Installation</h2>\n<p>stylelint is an <a href=\"https://www.npmjs.com/package/stylelint\">npm package</a>. Install it using:</p>\n<pre><code class=\"hljs language-console\">npm <span class=\"hljs-keyword\">install</span> stylelint</code></pre>\n<h2 id=\"options\"><a href=\"#options\" class=\"phenomic-HeadingAnchor\">#</a>Options</h2>\n<p>The plugin accepts an options object as argument, with the following properties:</p>\n<h3 id=\"config\"><a href=\"#config\" class=\"phenomic-HeadingAnchor\">#</a><code>config</code></h3>\n<p>A <a href=\"../configuration/\">stylelint configuration object</a>.</p>\n<p>If no <code>config</code> or <code>configFile</code> is passed, stylelint will look for a <code>.stylelintrc</code> configuration file.</p>\n<h3 id=\"configfile\"><a href=\"#configfile\" class=\"phenomic-HeadingAnchor\">#</a><code>configFile</code></h3>\n<p>The path to a JSON, YAML, or JS file that contains your <a href=\"../configuration/\">stylelint configuration object</a>.</p>\n<p>It should be either absolute or relative to the directory that your process is running from (<code>process.cwd()</code>). We'd recommend absolute.</p>\n<h3 id=\"configbasedir\"><a href=\"#configbasedir\" class=\"phenomic-HeadingAnchor\">#</a><code>configBasedir</code></h3>\n<p>An absolute path to the directory that relative paths defining <code>extends</code> and <code>plugins</code> are <em>relative to</em>.</p>\n<p>This is only necessary if you passed an object directly through the <code>config</code> property. If you used\n<code>configFile</code>, this option is not necessary.</p>\n<p>If the <code>config</code> object passed uses relative paths, e.g. for <code>extends</code> or <code>plugins</code>, you are going to have to pass a <code>configBasedir</code>. If not, you do not need this.</p>\n<h3 id=\"configoverrides\"><a href=\"#configoverrides\" class=\"phenomic-HeadingAnchor\">#</a><code>configOverrides</code></h3>\n<p>A partial stylelint configuration object whose properties will override the existing config object, whether that config was loaded via the <code>config</code> option or a <code>.stylelintrc</code> file.</p>\n<p>The difference between the <code>configOverrides</code> and <code>config</code> options is this: If any <code>config</code> object is passed, stylelint does not bother looking for a <code>.stylelintrc</code> file and instead just uses whatever <code>config</code> object you've passed; but if you want to <em>both</em> load a <code>.stylelintrc</code> file <em>and</em> override specific parts of it, <code>configOverrides</code> does just that.</p>\n<h3 id=\"ignoredisables\"><a href=\"#ignoredisables\" class=\"phenomic-HeadingAnchor\">#</a><code>ignoreDisables</code></h3>\n<p>If <code>true</code>, all disable comments (e.g. <code>/* stylelint-disable block-no-empty */</code>) will be ignored.</p>\n<p>You can use this option to see what your linting results would be like without those exceptions.</p>\n<h3 id=\"ignorepath\"><a href=\"#ignorepath\" class=\"phenomic-HeadingAnchor\">#</a><code>ignorePath</code></h3>\n<p>A path to a file containing patterns describing files to ignore. The path can be absolute or relative to <code>process.cwd()</code>. By default, stylelint looks for <code>.stylelintignore</code> in <code>process.cwd()</code>. See <a href=\"../configuration/#stylelintignore\">Configuration</a>.</p>\n<h2 id=\"usage-examples\"><a href=\"#usage-examples\" class=\"phenomic-HeadingAnchor\">#</a>Usage examples</h2>\n<p>We recommend you lint your CSS before applying any transformations. You can do this by either:</p>\n<ul>\n<li>creating a separate lint task that is independent of your build one.</li>\n<li>using the <a href=\"https://github.com/postcss/postcss-import#plugins\"><code>plugins</code> option</a> of <a href=\"https://github.com/postcss/postcss-import\"><code>postcss-import</code></a> or <a href=\"https://github.com/TrySound/postcss-easy-import\"><code>postcss-easy-import</code></a> to lint the your files before any transformations.</li>\n<li>placing stylelint at the beginning of your plugin pipeline.</li>\n</ul>\n<p>You'll also need to use a reporter. <em>The stylelint plugin registers warnings via PostCSS</em>. Therefore, you'll want to use it with a PostCSS runner that prints warnings or another PostCSS plugin whose purpose is to format and print warnings (e.g. <a href=\"https://github.com/postcss/postcss-reporter\"><code>postcss-reporter</code></a>).</p>\n<h3 id=\"example-a\"><a href=\"#example-a\" class=\"phenomic-HeadingAnchor\">#</a>Example A</h3>\n<p>A separate lint task that uses the plugin via the PostCSS JS API to lint Less using <a href=\"https://github.com/webschik/postcss-less\"><code>postcss-less</code></a>.</p>\n<p><em>Note: the stylelint PostCSS plugin, unlike the stylelint CLI and node API, doesn't have a <code>syntax</code> option. Instead, the syntax must be set within the <a href=\"https://github.com/postcss/postcss#options\">PostCSS options</a> as there can only be one parser/syntax in a pipeline.</em></p>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-keyword\">var</span> fs = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">\"fs\"</span>)\n<span class=\"hljs-keyword\">var</span> less = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">\"postcss-less\"</span>)\n<span class=\"hljs-keyword\">var</span> postcss = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">\"postcss\"</span>)\n\n<span class=\"hljs-comment\">// CSS to be processed</span>\n<span class=\"hljs-keyword\">var</span> css = fs.readFileSync(<span class=\"hljs-string\">\"input.css\"</span>, <span class=\"hljs-string\">\"utf8\"</span>)\n\npostcss([\n  <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">\"stylelint\"</span>)({ <span class=\"hljs-comment\">/* your options */</span> })\n  <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">\"postcss-reporter\"</span>)({ <span class=\"hljs-attr\">clearMessages</span>: <span class=\"hljs-literal\">true</span> })\n])\n  .process(css, {\n    <span class=\"hljs-attr\">from</span>: <span class=\"hljs-string\">\"input.css\"</span>,\n    <span class=\"hljs-attr\">syntax</span>: less\n  })\n  .then()\n  .catch(<span class=\"hljs-function\"><span class=\"hljs-params\">err</span> =></span> <span class=\"hljs-built_in\">console</span>.error(err.stack))</code></pre>\n<p>The same pattern can be used to lint SCSS or <a href=\"https://github.com/postcss/sugarss\">SugarSS</a> syntax.</p>\n<h3 id=\"example-b\"><a href=\"#example-b\" class=\"phenomic-HeadingAnchor\">#</a>Example B</h3>\n<p>A combined lint and build task where the plugin is used via the PostCSS JS API, but within <a href=\"https://github.com/postcss/postcss-import\"><code>postcss-import</code></a> (using the its <code>plugins</code> option) so that the source files are linted before any transformations.</p>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-keyword\">var</span> fs = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">\"fs\"</span>)\n<span class=\"hljs-keyword\">var</span> postcss = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">\"postcss\"</span>)\n<span class=\"hljs-keyword\">var</span> stylelint = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">\"stylelint\"</span>)\n\n<span class=\"hljs-comment\">// CSS to be processed</span>\n<span class=\"hljs-keyword\">var</span> css = fs.readFileSync(<span class=\"hljs-string\">\"lib/app.css\"</span>, <span class=\"hljs-string\">\"utf8\"</span>)\n\npostcss(\n  processors: [\n    <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">\"postcss-import\"</span>)({\n      <span class=\"hljs-attr\">plugins</span>: [\n        <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">\"stylelint\"</span>)({ <span class=\"hljs-comment\">/* your options */</span> })\n      ]\n    }),\n    <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">\"postcss-cssnext\"</span>)\n    <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">\"postcss-reporter\"</span>)({ <span class=\"hljs-attr\">clearMessages</span>: <span class=\"hljs-literal\">true</span> })\n  ]\n)\n  .process(css, { <span class=\"hljs-attr\">from</span>: <span class=\"hljs-string\">'lib/app.css'</span>, <span class=\"hljs-attr\">to</span>: <span class=\"hljs-string\">'app.css'</span> })\n  .then(<span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">result</span>) </span>{\n    fs.writeFileSync(<span class=\"hljs-string\">'app.css'</span>, result.css);\n    <span class=\"hljs-keyword\">if</span> ( result.map ) fs.writeFileSync(<span class=\"hljs-string\">'app.css.map'</span>, result.map);\n  })\n  .catch(<span class=\"hljs-function\"><span class=\"hljs-params\">err</span> =></span> <span class=\"hljs-built_in\">console</span>.error(err.stack))</code></pre>\n","__filename":"user-guide/postcss-plugin.md","__url":"/user-guide/postcss-plugin/","__resourceUrl":"/user-guide/postcss-plugin/index.html","__dataUrl":"/user-guide/postcss-plugin/index.html.e66d335fcfcf52f40786fe4b9b4330e4.json"}